# 강사 피드백

## 공통(이상적인, 나중에 DB와 연결했을 때를 고려한다면)

### 멤버 참조 문제

- Department, Lecture, Professor, Student, Score 클래스에서 서로를 멤버로 참조하는 문제가 있어요.
- 예로 Department 클래스에 학생 리스트가 있고, Student 클래스에는 과를 참고있어요.
- 그래서 해결하기 위해서 관련 있는 클래스를 참조하는 새로운 클래스를 추가해야 해요.
    - 학생이 소속된 과를 처리하기 위해 다음 클래스를 만들면 서로 참조하는 상황을 막을 수 있어요.
    - 학생 클래스에 학과 멤버를 지우고, 과 클래스에 학생 리스트를 지운 후 UniversityProgram에서 DepartmentAffiliation 클래스를 리스트로 관리하면 어떤 학생이 어느 과에 소속되어 있는지 알 수 있고, 특정과에 소속된 학생들을 알 수 있어요.
    
    ```java
    class DepartmentAffiliation{
    	DepartMent dm;
    	Student std;
    }
    class Score{
    	Lecture lecture;
    	Student student;
    	double score;
    }
    //지도클래스에서 교수와 학생을 멤버로
    //강의 클래스에서 교수와 Lecture 클래스를 멤버로
    //수강 클래스에서 학생과 Lecture 클래스를 멤버로
    //교수 소속 클래스에서 교수와 과를 멤버로
    //학생 소속 클래스에서 학생과 과를 멤버로
    ```
    

### 서비스 통일성 부족1 - 멤버

- 어떤 서비스는 리스트를 멤버로 가지고 있고, 어떤 서비스는 메서드에서 매개변수로 리스트를 받아 처리하고 있어요.
- 메서드에서 매개변수로 리스트를 받아 처리하는 것이 좋지만, 그렇지 않더라도 하나의 프로그램에서 통일성을 갖는 것이 좋아요.
- 예 : ProfessorServiceImp과 DPServiceImp 비교

### 서비스 통일성 부족2 - 처리방식

- 어떤 서비스는 `UniversityProgram` 클래스에서 입력을 받고 서비스에게 일만 시키는데, 어떤 서비스는 서비스에서 입력을 받고 일을 시키고 있어요.
- `UniversityProgram`에서 입력을 받고, 서비스에게는 일만 시키는 것이 좋지만, 어떤 방법이 되었든 통일성을 갖는 것이 좋아요.

## UniversityProgram 클래스

### 불러오기

- `85줄`
    - isLoad() 주석에는 불러오기 및 불러오기 판별 여부라고 되어 있는데 불러오기는 되는데 판별은 하지 않네요. 주석 설명을 지우거나 판별을 해야 합니다.

### 교수 등록

- `543~548줄`
    - 학과명을 입력 받고, 학과명을 이용한 생성자로 학과 객체를 생성한 후, List 에서 제공하는 indexOf를 이용하면 학과가 있는지 없는지 쉽게 찾을 수 있어요.
    - 가능한 이유는 Department 클래스에서 equals를 학과명을 기준으로 같다고 판별하도록 구현했기 때문이에요.
- `562줄`, `577줄`, `593줄`
    - 변수를 이용하지 않고 무한 루프로 만든 후, 조건을 만족하면 `break`문으로 빠져 나오면 되지 않을까요?
    - `break`는 이럴 때 사용해야 해요.

### 교수 수정

- `629줄`
    - 변수를 이용하지 않고 무한 루프로 만든 후, 조건을 만족하면 `break`문으로 빠져 나오면 되지 않을까요?
    - `break`는 이럴 때 사용해야 해요.
- `647~652줄`
    - Professor클래스에서 equals를 수정한 후(아래 피드백 참고), 교번을 이용하여 Professor 객체를 생성
    - 생성한 객체를 List의 indexOf 메서드를 이용하여 위치를 찾아 활용하면 더 편리함.
- `675줄`
    - 매개변수로 index보단, Professor 객체를 넘겨주는 것이 좋아요.
    - 그렇게 되면 서비스에서 교수 리스트를 멤버로 가지지 않아도 구현이 가능하죠.

### 교수 삭제

- `715줄`
    - 변수를 이용하지 않고 무한 루프로 만든 후, 조건을 만족하면 `break`문으로 빠져 나오면 되지 않을까요?
    - `break`는 이럴 때 사용해야 해요.
- `731~738줄`
    - Professor클래스에서 equals를 수정한 후(아래 피드백 참고), 교번을 이용하여 Professor 객체를 생성
    - 생성한 객체를 List의 remove 메서드를 이용하면 쉽게 삭제할 수 있고 삭제 여부를 반환 값을 통해 알 수 있어서 쉽게 처리가 가능해요.

### 수강 신청

- `321줄`, `360줄`
    - 무한루프로 만들고, break문을 이용하여 빠져 나오는 코드가 좋아요.
- `339~349줄`
    - 학번을 이용하여 학생 객체를 만들고 학생 리스트에서 indexOf를 이용하여 번지를 가져와서 활용하는 것이 편리해요.

### 수강 취소

- `386줄`
    - 무한루프로 만들고, break문을 이용하여 빠져 나오는 코드가 좋아요.
- `402~414줄`
    - 학번을 이용하여 학생 객체를 만들고 학생 리스트에서 indexOf를 이용하여 번지를 가져와서 활용하는 것이 편리해요.
- `425~440줄`
    - 강의번호를 이용하여 강의 객체를 만들고 학생 리스트에서 강의 리스트를 가져온 후 선택한 강의 객체를 삭제하면 코드를 효율적으로, 편리하게 작성할 수 있어요.

## DPServiceImp 클래스

### 학과 등록

- `20줄`
    - 매개변수로 리스트를 넘겨주고 있고, 메서드 내에서 리스트를 재할당하지 않기 때문에 굳이 반환을 하지 않아도 돼요.
    - 매개변수가 참조 변수인 경우 메서드 내에서 변경이 되면(재할당 말고) 원본도 변경이 되어요.
- `31줄`
    - 학과 명과 학과 번호를 이용한 생성자를 추가해서 사용하는 것 좋아요.
- `35줄`
    - 들여쓰기 신경 써주세요.

### 학과 수정

- `59줄`
    - Department 클래스에서 equals 메서드를 학과명이 같은 경우 같은 객체로 비교하는 걸로 작성이 되어 있네요.
    - 그런데 학과명이 일치하는 학과들이 여러개 있을 까요??
    - `69줄`에서도 여러 개 없는 걸 알기 때문에 0번지로 접근하죠.
    - 그래서 indexOf로 번지를 찾고, get(찾은번지)를 이용해서 가져 오는 것이 좋아요.
    - 스트림을 이용해보려는 건 좋았지만 해당 코드에서는 적절하지 않았어요.

### 학과 삭제

- `97줄`
    - 학과 수정에서 `59줄` 피드백과 동일
    

## StudentServiceImp 클래스

### 학생을 학과에 추가

- `29줄`
    - `28줄`에서 이미 문제점을 알고 있네요.
    - `Student` 클래스의 equals 에서 같은 클래스의 객체가 아니라면 학번이 같아도 false로 처리하게 구현되어 있어요.
        - `Student` 클래스에서 `40줄` 참고
    - 그래서 문자열과 Student 클래스의 객체를 비교할 수 없게 되기 때문에 의미가 없어진거죠.
    - 다음과 같이 수정하면 가능해요.
    
    ```java
    if (getClass() != obj.getClass()) {
    	if(obj.getClass() == String.class) {
    		return ((String)obj).equals(""+studentId);
    	}
    	return false;
    }
    ```
    

### 학생 학과를 수정

- `83줄`
    - index를 잘못 입력했을 때 처리가 없네요.
- `138줄`
    - dindex를 잘못 입력했을 때 처리가 없네요.
- `139줄`
    - Student 클래스에서 Setter가 자동으로 생성되기 때문에 따로 구현할 필요가 없어요.

### 학생 삭제

- `173`줄
    - index를 잘못 입력했을 때 처리가 없네요.

## **LectureServiceImp 클래스**

### 강의 추가

- `27줄`
    - 반환값을 강의리스트로 설정했는데, 해당 메서드를 호출하는 곳에서 리턴값을 활용하지 않기 때문에 반환하는 의미가 없네요.
- `87~92줄`
    - `Lecture` 클래스의 equals를 강의번호가 같으면 같도록 구현했지만, 전제 조건이 Lecture 클래스의 객체를 비교했을 때 강의번호를 비교해요.
    - 그런데, `88줄` 줄에서는 Lecture 클래스의 객체가 아닌 int와 비교했기 때문에 정상적으로 동작하지가 않아요.

## ScoreServiceImp 클래스

### 성적 등록

- `56~61줄`
    - 위에서 stdList가 강의를 수강하는 학생 리스트이기 때문에 stdList.get(indexS)를 이용하면 학생을 선택하여 tmp같은 객체에 저장합니다.
    - 그리고 sList.indexOf(tmp)를 이용하면 학생 리스트에서 성적을 등록하려는 학생 정보를 쉽게 가져올 수 있습니다.
- `64줄`
    - `Score` 클래스에 학생 객체와 강의객체가 주어졌을 때 객체를 생성하는 생성자를 추가 후 활용하면 더 편리해요.
- `69~74줄`
    - `Score` 클래스에서 equals를 강의번호와 학생 번호를 이용하여 비교하는 코드로 작성햇기 때문에 scoreList.contains(sObj)를 이용할 수 있어요.

### 성적 수정

- `94줄`, `116줄`
    - index값이 잘못됐을 때 처리 안 했어요.

### 강의 평균점수

- `138`줄
    - index값이 잘못됐을 때 처리 안 했어요.
- `146~157줄`
    - 리스트에 저장 후 총합을 구하지 말고 리스트에 넣은 부분에서 총합을 구하면 반복문을 한번 덜 사용해도 되요.

### 학생 성적 조회

- `177줄`
    - 잘못된 index값 처리가 안되어 있어요.
- `187~190줄`
    - else 때문에 0번지에 확인하려는 학생 정보가 없는 경우 다른 번지에 있다 하더라도 조회가 안 돼요.
    - return 때문에 큰 문제가 됩니다. 이 부분은 반드시 수정해야 해요.

## Professor 클래스

- equals
    - 교수 번호는 주민등록처럼 고유한 값이기 때문에 교번만 같아도 같은 교수로 판별할 수 있죠? 그래서 성별과 이름 연락처 등이 없어도 비교가 가능해요.